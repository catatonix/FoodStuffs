<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="iron-collapse" assetpath="../bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration, 300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration, 300ms);overflow:visible;}:host(.iron-collapse-closed){display:none;}:host(:not(.iron-collapse-opened)){overflow:hidden;}</style><slot></slot></template></dom-module><script>Polymer({is:'iron-collapse',behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:'_horizontalChanged'},opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:''}},get dimension(){return this.horizontal?'width':'height'},get _dimensionMax(){return this.horizontal?'maxWidth':'maxHeight'},get _dimensionMaxCss(){return this.horizontal?'max-width':'max-height'},hostAttributes:{role:'group',"aria-hidden":'true',"aria-expanded":'false'},listeners:{transitionend:'_onTransitionEnd'},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a='auto'===a?'':a;var c=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;if(this._desiredSize=a,this._updateTransition(!1),c){var d=this._calcSize();''===a&&(this.style[this._dimensionMax]='',a=this._calcSize()),this.style[this._dimensionMax]=d,this.scrollTop=this.scrollTop,this._updateTransition(!0),c=a!==d}this.style[this._dimensionMax]=a,c||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn('`enableTransition()` is deprecated, use `noAnimation` instead.'),this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?'':'0s'},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var a='maxWidth'===this._dimensionMax?'maxHeight':'maxWidth';this.style[a]='',this.updateSize(this.opened?'auto':'0px',!1)},_openedChanged:function(){this.setAttribute('aria-expanded',this.opened),this.setAttribute('aria-hidden',!this.opened),this._setTransitioning(!0),this.toggleClass('iron-collapse-closed',!1),this.toggleClass('iron-collapse-opened',!1),this.updateSize(this.opened?'auto':'0px',!0),this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize,this.toggleClass('iron-collapse-closed',!this.opened),this.toggleClass('iron-collapse-opened',this.opened),this._updateTransition(!1),this.notifyResize(),this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+'px'}});</script><iron-iconset-svg name="iron-collapse-button-icons" size="24"><svg><defs><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="iron-collapse-button" assetpath="../bower_components/iron-collapse-button/"><template strip-whitespace=""><style>:host{display:block;}#trigger{@apply --layout-horizontal;@apply --layout-center;}</style><div id="trigger" on-tap="toggle"><slot name="collapse-trigger"></slot><iron-icon icon="[[_toggle(opened, collapseIcon, expandIcon)]]" hidden$="[[noIcons]]"></iron-icon></div><iron-collapse id="collapse" horizontal="[[horizontal]]" no-animation="[[noAnimation]]" opened="[[opened]]"><slot name="collapse-content"></slot></iron-collapse></template><script>var IronCollapseButton=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'show',value:function(){this.open()}},{key:'hide',value:function(){this.close()}},{key:'open',value:function(){this.opened=!0}},{key:'close',value:function(){this.opened=!1}},{key:'toggle',value:function(){this.opened=!this.opened}},{key:'_toggle',value:function(a,b,c){return a?b:c}}],[{key:'is',get:function(){return'iron-collapse-button'}},{key:'properties',get:function(){return{horizontal:{type:Boolean,value:!1},noAnimation:{type:Boolean,value:!1},opened:{type:Boolean,value:!1,notify:!0},expandIcon:{type:String,value:'iron-collapse-button-icons:expand-more'},collapseIcon:{type:String,value:'iron-collapse-button-icons:expand-less'},noIcons:{type:Boolean,value:!1}}}}]),b}(Polymer.GestureEventListeners(Polymer.Element));customElements.define(IronCollapseButton.is,IronCollapseButton);</script></dom-module></div><dom-module id="my-meals"><template><firebase-auth id="auth" user="{{user}}" provider="google" on-error="handleError"></firebase-auth><firebase-query id="mealsQuery" path="/users/[[user.uid]]/meals" data="{{meals}}"></firebase-query><style include="shared-styles">:host{display:block;padding:16px;}.meal > h2{display:inline-block;width:65%;}.meal > span{display:inline-block;width:25%;}.meal > paper-icon-button{width:5%;}.meal iron-collapse-button p{margin-left:20px;font-size:80%;}.meal .items, .meal .notes{display:inline-block;width:45%;vertical-align:top;}</style><div class="card"><h1>My Meals</h1><div id="meals"><ul><template is="dom-repeat" items="[[meals]]" as="meal"><li><div class="card meal"><h2>[[meal.label]]</h2><span>[[meal.datetime]]</span><paper-icon-button src="images/icons/trash.svg" note="[[meal]]" on-tap="promptRemove"></paper-icon-button><iron-collapse-button><div slot="collapse-trigger"><h3>Meal Details</h3></div><div slot="collapse-content"><div class="items"><h4>Items</h4><template is="dom-repeat" items="[[_toArray(meal.content)]]" as="content"><p>[[content.value]]</p></template></div><div class="notes"><h4 hidden$="[[!meal.notes]]">Notes</h4><p>[[meal.notes]]</p></div></div></iron-collapse-button></div></li></template></ul></div></div><paper-alert-dialog id="confirmDelete" title="are you sure?" dismiss-button="Cancel" confirm-button="Delete" on-confirm="removeMeal">Do you really want to delete this meal?</paper-alert-dialog></template><script>var MyMeals=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'promptRemove',value:function(a){var b=a.currentTarget.note.$key;this.currentMealKey=b,console.log(this.currentMealKey),this.$.confirmDelete.open()}},{key:'removeMeal',value:function(){var a=this.currentMealKey;console.log(this.$.mealsQuery.ref),this.$.mealsQuery.ref.child(a).remove()}},{key:'_toArray',value:function(a){return Object.keys(a).map(function(b){return{name:b,value:a[b]}})}}],[{key:'is',get:function(){return'my-meals'}},{key:'Properties',get:function(){return{meals:{type:Object},currentMealKey:{type:String}}}}]),b}(Polymer.Element);customElements.define(MyMeals.is,MyMeals);</script></dom-module></body></html>